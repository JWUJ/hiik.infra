map $request_uri $new_uri {
    default "";
    # external links
    /sayding/ /catalog/fasadnye_materialy/vinilovyy_sayding/;
    /catalog/91/ /catalog/krovlya/myagkaya/;
    ~^/aksessuary-dlya-okon/ /catalog/okna/aksessuary_dlya_mansardnykh_okon/;
    ~^/article/caiding/fapanel/ /catalog/fasadnye_materialy/metallicheskiy_sayding/;
    ~^/article/fapanel/ /catalog/fasadnye_materialy/panel/;
    ~^/article/fence/ /catalog/zabor/shtaketnik/;
    ~^/article/formproduct/dymniki_flugarki.htm /catalog/fasonnye_izdeliya/dymniki/;
    ~^/article/montaj/ /montag/;
    /article/roof_safe/kracka_aerozol.htm /catalog/krovlya/komplektuyushchie/kraska_korrektor/;
    ~^/article/roof_safe/sofit/sofit_alumin.htm /catalog/krovlya/dobornye-elementy/;
    ~^/article/roof_safe/ /catalog/elementy_bezopasnosti/;
    ~^/article/manokna/akceccuary_dla_mancardnyh_okon.html /catalog/okna/aksessuary_dlya_mansardnykh_okon/;
    ~^/article/ /info/blog/;
    ~^/elementy_bezopasnosti_krovli/fasadnye_lestnitsy/ /catalog/elementy_bezopasnosti/fasadnye_lestnitsy/;
    ~^/catalog/fasadnye_materialy/fasadnaya_panel/ /catalog/fasadnye_materialy/panel/;
    ~^/catalog/krovelnaya_ventilyatsiya/krovelnye_uplotniteli/([^?]*)? /catalog/krovelnaya_ventilyatsiya/krovelnye_prokhodki/$1;
    ~^/catalog/krovelnye_okna/evakuatsionnye_okna/([^?]*)? /catalog/okna/evakuatsionnye/$1;
    ~^/catalog/krovelnye_okna/mansardnye_okna/([^?]*)? /catalog/okna/mansardnye/$1;
    ~^/catalog/krovlya/faltsevaya_krovlya/([^?]*)? /catalog/krovlya/faltsevaya/$1;
    ~^/catalog/krovlya/metallocherepitsa/grand_line/([^?]*)? /catalog/krovlya/metallocherepitsa/grandline/$1;
    ~^/catalog/krovlya/myagkaya_krovlya/([^?]*)? /catalog/krovlya/myagkaya/$1;
    ~^/catalog/krovlya/profnastil/s-21/([^?]*)? /catalog/krovlya/profnastil/s21/$1;
    ~^/cherdachnye-lestnicy/ /catalog/cherdachnye_lestnitsy/;
    ~^/catalog/elementy_bezopasnosti_krovli/fasadnye_lestnitsy/ /catalog/elementy_bezopasnosti/fasadnye_lestnitsy/;
    /info/brands/nilite/ /info/brands/;
    ~^/krovlya/ /catalog/krovlya/;
    ~^/mansardnye-okna /catalog/okna/mansardnye/;
    ~^/metallicheskiy-siding/ /catalog/fasadnye_materialy/metallicheskiy_sayding/;
    ~^/metallocherepitsa /catalog/krovlya/metallocherepitsa/;
    /montag/krovelnye-raboty/faltsevoy-krovli/onlayn-kalkulyator-dlya-rascheta-krovli/ /montag/krovelnye-raboty/faltsevoy-krovli/;
    ~^/montag/krovelnye-raboty/krovli-iz-cherepitsy/ /montag/krovelnye-raboty/krovli-iz-naturalnoy-cherepitsy/;
    ~^/montazh-cherdachnyh-lestnic/ /montag/cherdachnykh-lestnits/;
    ~^/montazh-krovli/montazh-metallocherepicy/ /montag/krovelnye-raboty/metallocherepicy/;
    ~^/montazh-krovli/ /montag/krovelnye-raboty/;
    /montazh-krovli/montazh-profnastila-na-kryshu/ /montag/krovelnye-raboty/profnastila-na-kryshu/;
    /montazh-saydinga/ /montag/fasadnye-raboty/saydinga/;
    ~^/myagkaya-krovlya-gibkaya-cherepica/ /catalog/krovlya/myagkaya/;
    ~^/okna_fakro/ /catalog/okna/mansardnye/fakro/;
    ~^/profnastil/ /catalog/krovlya/profnastil/;
    ~^/sayding-viniloviy/cokolnyy-sayding/ /catalog/fasadnye_materialy/panel/;
    ~^/sayding/907-sayding-mitten-seriya-oregon-pride-023h366.html /catalog/fasadnye_materialy/vinilovyy_sayding/mitten/oregon-pride/;
    ~^/shtaketnik/ /catalog/zabor/shtaketnik/;
    /ustanovka-mansardnyh-okon/ /montag/ustanovka-mansardnykh-okon/pravilnaya/;
    /ustanovka-mansardnyh-okon/remont-mansardnyh-okon/ /montag/ustanovka-mansardnykh-okon/remont-okon/;
    ~^/vodostok/ /catalog/vodostok/;
    ~^/zabor/ /catalog/zabor/;
    # bitrix task 4626, used in external links as well
    ~^/catalog/krovlya/komplektuyushchie/dobornye_elementy/([^?]*)? /catalog/krovlya/dobornye-elementy/$1;
    # #2538 bitrix task catalogue rename, used in external links as well
    ~^/catalog/fasonnye_izdeliya/metalloprokat/([^?]*)? /catalog/fasonnye_izdeliya/ploskij-list-dlya-gibki/$1;
    # brands do not work as intended, redirect to search
    ~^/info/brands/braas/ /catalog/?q=BRAAS;
    ~^/info/brands/delta/ /catalog/?q=Delta;
    ~^/info/brands/fakro/ /catalog/?q=Fakro;
    ~^/info/brands/foundry/ /catalog/?q=Foundry;
    ~^/info/brands/gentek/ /catalog/?q=Gentek;
    ~^/info/brands/georgia_pacific/ /catalog/?q=Georgia%20Pacific;
    ~^/info/brands/grand_line/ /catalog/?q=Grand%20Line;
    ~^/info/brands/juta/ /catalog/?q=Juta;
    ~^/info/brands/katepal/ /catalog/?q=Katepal;
    ~^/info/brands/mitten/ /catalog/?q=Mitten;
    ~^/info/brands/nailite/ /catalog/?q=Nailite;
    ~^/info/brands/nord_haus/ /catalog/?q=Nord%20Haus;
    ~^/info/brands/tegola/ /catalog/?q=Tegola;
    ~^/info/brands/tondach/ /catalog/?q=Tondach;
    ~^/info/brands/tyvek/ /catalog/?q=Tyvek;
    ~^/info/brands/velux/ /catalog/?q=Velux;
    ~^/info/brands/dolle/ /catalog/?q=Dolle;
    ~^/info/brands/docke/ /catalog/?q=Döcke;
    ~^/info/brands/borge/ /catalog/?q=Borge;
    ~^/info/brands/vegastok/ /catalog/?q=Вегасток;
    ~^/info/brands/metallprofil/ /catalog/?q=Металл%20Профиль;
    # bitrix task 4626
    ~^/([^?]*)%C2%AD/ /$1/;
    # bitrix task 5302
    /info/blog/kakoe-krovelnoe-pokrytie-luchshe-1-chast/ /info/blog/kakoe-krovelnoe-pokrytie-luchshe-1/;
    # oid category redirect to URL without oid parameter
    ~^(/catalog/(?:[^\d?]+/)+)\?oid=\d+$ $1;
    # temp
    ~^/catalog/krovlya/profnastil/n-60/ /catalog/krovlya/profnastil/n60/;
    ~^/catalog/krovlya/profnastil/n-75/ /catalog/krovlya/profnastil/n75/;
    ~^/catalog/krovlya/profnastil/s-8/ /catalog/krovlya/profnastil/s8/;
    ~^/catalog/krovlya/profnastil/s-20/ /catalog/krovlya/profnastil/s20/;
}

